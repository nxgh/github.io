---
title: 事件处理
index: 8
date: 2023/01/06
---

# 事件处理

|                   | vue                                                                                   | react                                                | angular                        |
| :---------------- | :------------------------------------------------------------------------------------ | :--------------------------------------------------- | :----------------------------- |
| 内联事件处理      | `@click="count++"`                                                                    | `onClick={() => setCount(count => count + 1)}`       | `(click)="count = count + 1">` |
| 方法事件处理      | `@click="add"`                                                                        | `onClick={add}`                                      | `(click)="add()">`             |
| 传参              | `@click="add(2)"`                                                                     | `onClick={() => add(1)}`                             | `(click)="add(2)">`            |
| 访问原生 DOM 事件 | `@click="add"` <br />`@click="add(2, $event)"`<br />`@click="event => add(2, event)"` | `onClick={add}` <br /> `onClick={(e) => add(2, e) }` | `(click)="add(2, $event)"`     |
| 阻止默认行为      | 「事件修饰符」 `@click.prevent="add"`                                                 | `function add(e) { e.preventDefault() }`             | `$event.preventDefault()`      |
| 阻止冒泡          | 「事件修饰符」 `@click.stop="add"`                                                    | `function add(e) { e.stopPropagation() }`            | `$event.stopPropagation()`     |
| 监听键鼠事件      | 「按键修饰符」 `@keyup.enter="submit"`                                                | `onKeyDown={e => e.keyCode === 13}`                  | `(keydown.enter)="submit"`     |

## Vue

```vue
<script setup>
import { ref } from 'vue'

const count = ref(0)
const add = (event) => console.log(event)
const submit = () => {}
</script>

<template>
  <!-- 内联事件处理 -->
  <button @click="count++">Click</button>
  <!-- 方法事件处理, 会自动接收原生 DOM 事件并触发执行-->
  <button @click="add">event</button>
  <!-- 向方法传入自定义参数以代替原生事件 -->
  <button @click="add(2)">Click</button>
  <!-- 内联事件处理器中访问原生 DOM 事件 -->
  <button @click="add(2, $event)">Click</button>
  <button @click="(event) => add(2, event)">Click</button>
  <!-- 阻止默认行为 -->
  <button @click.prevent="add">Click</button>
  <!-- 阻止冒泡 -->
  <button @click.stop="add">Click</button>
  <!-- 监听键盘事件 -->
  <input @keyup.enter="submit" />
</template>
```

## Raect

```jsx
import React, { useState } from 'react'

function App() {
  const [count, setCount] = useState(0)
  const add = (e) => {
    // 阻止默认行为
    e.preventDefault()
    // 阻止冒泡
    e.stopPropagation()
    console.log(e)
    setCount((count) => count + 1)
  }
  const add2 = (num) => {
    setCount((count) => count + num)
  }
  return (
    <>
      {/* 内联事件处理 */}
      <button onClick={() => setCount((count) => count + 1)}>Click</button>
      {/*方法事件处理, 会自动接收原生 DOM 事件并触发执行*/}
      <button onClick={add}>event</button>
      {/* 向方法传入自定义参数*/}
      <button onClick={(event) => add2(2)}>Click</button>
      {count}
    </>
  )
}
```

## Angular

```ts
import { Component } from '@angular/core'

@Component({
  selector: 'app-root',
  template: `
    <button (click)="count = count + 1">{{ count }}</button>
    <button (click)="(add)">{{ count }}</button>
    <button (click)="add2(2)">{{ count }}</button>
    <input (keydown.enter)="(submit)" />
  `,
})
export class AppComponent {
  title = 'angular-app'
  count = 0

  add(event: any) {
    console.log(event)
  }
  add2(num: number) {
    this.count += num
  }
  submit() {}
}
```
